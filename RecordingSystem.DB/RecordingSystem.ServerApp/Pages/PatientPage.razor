@page "/patient/{Id:int}"

<h3>PatientPage</h3>
@*<span>@_patient.PhoneNumber:</span>
<input type="checkbox" @bind="_cabinet.Status"></input>
<br />
<button @onclick="UpdateCabinet" type="button" class="btn btn-primary">Update</button>
*@
<h3><PatientCard patient="_patient" /></h3>

<Dropdown>
    <Button Color="Color.Primary">Split Dropdown</Button>
    <DropdownToggle Color="Color.Primary" Split />
    <DropdownMenu>
        <DropdownItem>Action</DropdownItem>
        <DropdownDivider />
        <DropdownItem>Another Action</DropdownItem>
    </DropdownMenu>
</Dropdown>


@code {
    [Parameter] public int Id { get; set; }
    private List<PatientOutputModel> _patientList;
    private PatientOutputModel _patient;

    protected override void OnInitialized()
    {
        _patientList = new PatientManager().GetAllPatients();
        foreach (var i in _patientList)
        {
            if (i.Id == Id)
            {
                _patient = i;
            }
        }

    }
    private void UpdatePatient()
    {
        var up = new PatientInputModel()
            {
                Id = _patient.Id,
                PhoneNumber = _patient.PhoneNumber
            };
        new PatientManager().UpdatePatient(up);
    }
}
